//transforma uma array de objetos adicionando a propriedade id no formato uuid

const fs = require("fs");
const crypto = require("crypto");
var path = require('path');

function uuidv4() {
    return "10000000-1000-4000-8000-100000000000".replace(/[018]/g, c =>
        (+c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> +c / 4).toString(16)
    );
}

function transform() {
    for (var i = 0; i < listaAlimentos.length; i++) {
        if (typeof listaAlimentos[i].id === "number" || listaAlimentos[i].id === undefined) {
            listaAlimentos[i].id = uuidv4();
        }

        fs.writeFileSync(path.join(__dirname, '..', "data", "lista.alimentos.js"), "var listaAlimentos = " + JSON.stringify(listaAlimentos) + "; ");
    }
}

var listaAlimentos = [{ "id": "2bf6dced-c2a9-43b3-b81b-95d3dadf646f", "nome": "Queijo muçarela", "calorias": 320, "peso": 100, "unidade": "g", "proteina": 23.8 }, { "id": "3f5fbe71-00d2-468f-aa16-8ef50b7d2234", "nome": "Arroz cozido", "calorias": 129, "peso": 100, "unidade": "g", "proteina": 2.5 }, { "id": "f59547af-0208-4706-98e2-406540218e99", "nome": "Feijão cozido", "calorias": 132, "peso": 100, "unidade": "g", "proteina": 8 }, { "id": "92626641-73e5-4169-b674-2813cbe28391", "nome": "Pão francês", "calorias": 280, "peso": 100, "unidade": "g", "proteina": 11 }, { "id": "add5aa3e-7012-41d3-a8cd-70c0bcf45cbd", "nome": "Batata Inglesa", "calorias": 52, "peso": 100, "unidade": "g", "proteina": 0 }, { "id": "70ad0ec3-e4fe-4114-9982-0d49b26fc3cd", "nome": "Banana prata", "calorias": 89, "peso": 100, "unidade": "g", "proteina": 1.3 }, { "id": "7e5c1943-012a-485f-8a9c-5c7d3d5437f5", "nome": "Mortadela", "calorias": 311, "peso": 100, "unidade": "g", "proteina": 16 }, { "id": "8d86529e-c286-4c99-b26b-55d95fb3b5c4", "nome": "Peito de frango", "calorias": 146, "peso": 100, "unidade": "g", "proteina": 29 }, { "id": "3d185c45-3f37-4b2b-a091-b3496fa0a0c2", "nome": "Pernil", "calorias": 340, "peso": 100, "unidade": "g", "proteina": 33 }, { "id": "928dbd6f-3645-4afc-8d82-2b380115d229", "nome": "Sobre-Coxa de frango", "calorias": 162, "peso": 100, "unidade": "g", "proteina": 18 }, { "id": "e5f24d7e-f864-446a-aae6-f83750bef2b5", "nome": "Beterraba cozida", "calorias": 32, "peso": 100, "unidade": "g", "proteina": 1.3 }, { "id": "6322bc19-5733-4147-828f-85a31cebf384", "nome": "Cenoura cozida", "calorias": 17, "peso": 100, "unidade": "g", "proteina": 0 }, { "id": "9eede846-f502-472f-bc1b-acf00859b0a6", "nome": "Ovo cozido", "calorias": 155, "peso": 100, "unidade": "g", "proteina": 13, "gordura": 11 }, { "id": "c6323f41-82e4-4063-bbaa-c248f5d6fd0e", "nome": "Farinha de aveia", "calorias": 385, "peso": 100, "unidade": "g", "proteina": 15, "gordura": 7.2 }, { "id": "6d581ae2-b7f2-4048-833d-81e56351997f", "nome": "Morango", "calorias": 33, "peso": 100, "unidade": "g", "proteina": 0.7, "gordura": 7.2 }, { "id": "3533da83-57ff-42dd-8679-8fd7371d1f07", "nome": "Queijo minas frescal", "calorias": 243, "peso": 100, "unidade": "g", "proteina": 15.9, "gordura": 0 }, { "id": "8a79ea1d-4db7-4c04-a2eb-8ee4a0cef047", "nome": "Queijo gorgonzola", "calorias": 324, "peso": 100, "unidade": "g", "proteina": 19.1, "gordura": 0 }, { "id": "c44e9ec7-4e90-4ca3-aca0-8a8e379ed60b", "nome": "Queijo muçarela de búfula", "calorias": 311, "peso": 100, "unidade": "g", "proteina": 21.4, "gordura": 0 }, { "id": "76612291-9f35-48e8-9e33-e4b4ba032e73", "nome": "Queijo parmesão", "calorias": 448, "peso": 100, "unidade": "g", "proteina": 31.9, "gordura": 0 }, { "id": "35a1e908-2e59-499a-ae90-ffe2b0859500", "nome": "Queijo prato", "calorias": 346, "peso": 100, "unidade": "g", "proteina": 24.2, "gordura": 0 }, { "id": "389f8fad-e6eb-4e33-b92d-0a9bf407d46c", "nome": "Queijo provolone", "calorias": 350, "peso": 100, "unidade": "g", "proteina": 25.6, "gordura": 0 }, { "id": "c54cd3c9-2b00-45f9-9872-4040b8766a2f", "nome": "Queijo ricota", "calorias": 139, "peso": 100, "unidade": "g", "proteina": 25.6, "gordura": 0 }, { "id": "c2b1b95e-d7de-4996-b4cc-62b81948bed1", "nome": "Paleta carne", "calorias": 155, "peso": 100, "unidade": "g", "proteina": 21, "gordura": 0 }, { "id": "5750bd67-2e71-4baf-8944-e85a831fd1d8", "nome": "Cacau em pó 100%", "calorias": 230, "peso": 100, "unidade": "g", "proteina": 19.5, "gordura": 0 }, { "id": "8e777936-1651-44b0-933d-fd53791a3f06", "nome": "Leite em pó desnatado", "calorias": 360, "peso": 100, "unidade": "g", "proteina": 33, "gordura": 0 }, { "id": "a33d788a-98b4-4f73-bd05-b4caa255e91d", "nome": "Leite desnatado", "calorias": 44, "peso": 100, "unidade": "ml", "proteina": 6.5, "gordura": 0 }, { "id": "e31d7241-bde8-4ea1-b025-9ef3c174801c", "nome": "Yorgut natural desnatado", "calorias": 31, "peso": 100, "unidade": "g", "proteina": 3.6, "gordura": 0 }, { "id": "84977759-a1e6-42e6-a018-85fa78b04667", "nome": "Leite condensado", "calorias": 325, "peso": 100, "unidade": "g", "proteina": 7.5, "gordura": 0 },
{
    "id": "bf98b23f-e904-456d-a55c-b0eec896eaf5",
    "nome": "Gelatinas sabores (pó)", "calorias": 357, "peso": 100, "unidade": "g", "proteina": 18.5, "gordura": 0
},
{ "id": "186cdef4-866c-4a89-9bd9-1ed6da3771a2", "nome": "Macarrão cozido", "calorias": 150, "peso": 100, "unidade": "g", "proteina": 3.54, "gordura": 0 }, { "nome": "Filé mignon", "calorias": 191, "proteina": 29, "gordura": 7, "id": "17d76573-167b-4203-b60b-780c15837a98" }, { "nome": "Picanha", "calorias": 297, "proteina": 25, "gordura": 21, "id": "af168a63-df4d-4742-8187-4b80f19e96c1" }, { "nome": "Contra-filé", "calorias": 240, "proteina": 28, "gordura": 15, "id": "56d26642-e0cc-4ab9-a0af-540314cbbb60" }, { "nome": "Alcatra", "calorias": 213, "proteina": 30, "gordura": 10, "id": "02af16c3-08a9-47e9-bd3a-34a55a4e3bf7" }, { "nome": "Fraldinha", "calorias": 192, "proteina": 28, "gordura": 8, "id": "f883591e-e9e9-496c-b0b2-641b0e38b5e8" }, { "nome": "Coxão mole", "calorias": 207, "proteina": 30, "gordura": 9, "id": "c707b07f-e9fb-4a50-9c0d-853872caba21" }, { "nome": "Coxão duro", "calorias": 220, "proteina": 31, "gordura": 10, "id": "a1059b79-2cdb-46cc-bdc7-74ecf983a156" }, { "nome": "Maminha", "calorias": 278, "proteina": 27, "gordura": 19, "id": "3b59bf18-34d2-4d07-a4a1-55097bc0cf66" }, { "nome": "Acém", "calorias": 175, "proteina": 26, "gordura": 7, "id": "539843fc-7abb-432a-b4d9-025130c87930" }, { "nome": "Patinho", "calorias": 145, "proteina": 32, "gordura": 3, "id": "c500ee3e-94a5-4e32-ab1b-5a8c83aa18a6" }, { "nome": "Paleta", "calorias": 210, "proteina": 28, "gordura": 11, "id": "66d733ea-a149-4e7f-8be8-0a693a2e11b7" }, { "nome": "Cupim", "calorias": 294, "proteina": 21, "gordura": 24, "id": "53579b45-08d4-4bea-b365-088b6f172ee7" }, { "nome": "Costela", "calorias": 300, "proteina": 20, "gordura": 25, "id": "e04b87e6-9efb-48ac-93bf-40b9ed3fef36" }, { "nome": "Pescoço", "calorias": 160, "proteina": 22, "gordura": 7, "id": "2252ee29-50ae-417a-880d-c89b331c269a" }, { "nome": "Lagarto", "calorias": 150, "proteina": 32, "gordura": 2, "id": "9e4e1e33-f3d5-4b67-b2ee-94e69e5b5a70" }, { "nome": "Peito de frango sem pele", "calorias": 120, "proteina": 22, "gordura": 3, "id": "8af607ab-9492-40d6-a470-7ca9b8e16c04" }, { "nome": "Coxa de frango sem pele", "calorias": 140, "proteina": 20, "gordura": 6, "id": "8b4c9f2e-19b5-422d-afc3-2ac7882587dd" }, { "nome": "Sobrecoxa de frango sem pele", "calorias": 150, "proteina": 21, "gordura": 7, "id": "9aae808e-34b6-4377-81bf-338e9496ecc3" }, { "nome": "Asa de frango", "calorias": 203, "proteina": 18, "gordura": 14, "id": "8c8e4197-3491-43a8-be42-8c3989bba9f7" }, { "nome": "Peito de peru", "calorias": 104, "proteina": 24, "gordura": 1, "id": "7224a922-790f-4601-8582-0a138a9b7aff" }, { "nome": "Salmão", "calorias": 208, "proteina": 20, "gordura": 13, "id": "08c890ae-05af-46d1-86bf-35958b29af91" }, { "nome": "Tilápia", "calorias": 96, "proteina": 21, "gordura": 2, "id": "232ef693-92a6-4540-9018-ca77d13f4fe8" }, { "nome": "Bacalhau fresco", "calorias": 82, "proteina": 18, "gordura": 0.7, "id": "602789e8-2d98-4cc6-8d80-ed899b960f96" }, { "nome": "Atum fresco", "calorias": 130, "proteina": 24, "gordura": 3, "id": "e5a1a30b-a4ee-41f9-a20e-85a9843b9863" }, { "nome": "Dourado", "calorias": 110, "proteina": 20, "gordura": 3, "id": "01c1bd6c-e37a-446c-b28c-4600a2521392" }, { "nome": "Merluza", "calorias": 89, "proteina": 18, "gordura": 1.5, "id": "ad76e3c8-6d23-4946-ae62-5903915d134c" }, { "nome": "Pintado", "calorias": 120, "proteina": 22, "gordura": 3, "id": "30486b8d-5e33-439b-ab42-00bd642f3ad9" }, { "nome": "Linguado", "calorias": 90, "proteina": 19, "gordura": 1.5, "id": "5d14c3f0-e00f-4e57-bf91-c99545c4ee4c" }, { "nome": "Camarão", "calorias": 99, "proteina": 24, "gordura": 0.8, "id": "06713ba0-c696-4fef-9597-0c66c0b382f5" },
{ "nome": "Polvo", "calorias": 82, "proteina": 18, "gordura": 1, "id": "9cf691bd-6ab1-4bf6-bf47-b406280e5a3c" },
{
    "nome": "Água filtrada",
    "calorias": 0,
    "proteina": 0,
    "gordura": 0,
    "unidade": "ml"
},
];

transform();
